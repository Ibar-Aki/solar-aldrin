# Vibe Coding Full Timeline Logger

作成日時: 2026-02-08T21:20:54+09:00
作成者: Codex+GPT-5

以下は、ユーザー指示の原文（verbatim）です。改変しません。

```md
# agent.md — Vibe Coding Full Timeline Logger (Prompt-Original Mandatory)

## 0. 最優先目的
- ユーザーの指示（プロンプト）の改善材料を残す（最重要）
- LLM がどこで詰まったか／何が効いたかを後で追えるようにする
- 行ったり来たり（試行錯誤・撤回・却下・戻し）を “事実として” 残す
※ このフェーズでは整理・要約・解釈はしない。時系列ログの完全性を優先する。

---

## 1. ログの原則（必須）
- **追記のみ**：過去ログを書き換えない。誤りは訂正エントリを追記。
- **成功/失敗/却下/撤回も記録**：隠さない。
- **作業単位 = 1エントリ**：1つのIntentにつき1エントリ。
- **秘密情報は書かない**：APIキー等は `[REDACTED]` に置換して記録。

---

## 2. ログの置き場（固定）
- 日次ログ：`./logs/vibe/YYYY-MM-DD.log.md`（JST）
- 原文・差分・出力の保存先：`./logs/vibe/artifacts/`

---

## 3. 最重要ルール：ユーザー指示の原文は必ず残す（省略禁止）
- 各エントリに **必ず `Input (verbatim):` を含める**。
- `Input (verbatim):` は **ユーザーの指示文をそのまま** 記録する（改変しない）。
- 長文の場合は、原文を `artifacts/E####_input.txt` に保存し、
  - `Input (verbatim): (see artifacts/E####_input.txt)`
  と参照する（ただし **参照だけで済ませず、ファイルに原文を必ず保存**）。
- 秘密情報が含まれる場合は、その部分のみ `[REDACTED]` に置換し、置換したことを明記する。

---

## 4. エントリ必須フォーマット（毎回これで追記）
### ヘッダ
- `E#### | <ISO8601 JST> | <actor:user/agent>`

### 必須キー（この順序で）
- `Intent:` 何を達成するつもりだったか（1行）
- `Input (verbatim):` ユーザー指示の原文（省略禁止）
- `Action:` 実行したこと（編集/生成/調査/コマンド 等）
- `Output:` 結果（何ができたか／何が変わったか）
- `Files:` 触ったファイル一覧（M/A/D）
- `DiffRef:` 差分・生成物・コマンド出力などの参照（なければ `-` は不可。何かしら残す）
- `Test:` 実行/テスト結果（成功/失敗、失敗なら要点 + 全文参照）
- `Issue:` 詰まり（なければ `-`）
- `Decision:` 採用/却下/保留 + 理由（短く）
- `Next:` 次にやること（1行）

---

## 5. 生成物・修正物を “漏れなく残す” ルール（強制）
各エントリで必ず以下のいずれかを満たす（最低1つは必須）。
- パッチ保存：`artifacts/E####.patch`
- 生成物保存：`artifacts/E####_output.md` / `.txt` / `.json`
- コマンド出力保存：`artifacts/E####_cmd.txt`
- GitコミットIDを記録：`DiffRef: git commit <SHA>`（コミットが存在する場合）

※「行ったり来たり（戻し・撤回・別案切替）」は、必ず **別エントリ** で記録（上書き禁止）。

---

## 6. 詰まり（Issue）の書き方（詰まったときはこの形）
Issue:
- What blocked:
- Tried:
- Evidence:
- Unblocked by:

---

## 7. 指示変更が起きたとき（任意だが推奨）
同一テーマでユーザーが指示を更新した場合、次エントリの Input を原文で残した上で、
- `Note:` 「前回指示からの変更点」を1行だけ追記してよい（要約ではなく差分の事実）。

---

## 8. エントリ例（Input原文が必ずある）
E0003 | 2026-02-07T10:40:02+09:00 | agent
- Intent: エラーメッセージ文言を日本語に統一
- Input (verbatim): 「エラー文言は全部日本語にして。特にログイン失敗時。」
- Action: 文言定義の差し替え、UI表示の確認
- Output: ログイン失敗時の文言を日本語化
- Files: M src/i18n/ja.ts, M src/login.tsx
- DiffRef: logs/vibe/artifacts/E0003.patch
- Test: npm test 成功
- Issue: -
- Decision: 採用。理由：要求どおり統一
- Next: 画面キャプチャを artifacts に残す（必要なら）

---

## 9. 毎エントリの最低条件チェック
- [ ] Input (verbatim) がある（原文 or artifacts 保存）
- [ ] 成果物の追跡ができる（DiffRef が実体を指す）
- [ ] 成功/失敗/撤回を隠していない
- [ ] 秘密情報がない（あれば [REDACTED]）
- [ ] Next が1行

このプロジェクトにおいて、このルールを追加よろしくお願いします。多少、mdの中身をいじっても良いです。ログは専用フォルダを作ってそこに残してください。
```

