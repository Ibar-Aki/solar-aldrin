# UI/UXデザイン仕様書

## 概要

Voice KY Assistantのユーザーインターフェース設計を記述する。
対象デバイスはiPhone SE (第2世代以降)を中心としたモバイルファースト設計とする。

---

## 画面一覧

| 画面ID | 画面名 | 主な機能 |
| ------ | ------ | -------- |
| HOME | ホーム画面 | KY開始、履歴へのアクセス |
| CHAT | 対話画面 | AIとの音声/テキスト対話 |
| CONFIRM | 確認画面 | 抽出内容の確認・修正 |
| DONE | 完了画面 | PDF出力、ホームへ戻る |
| HISTORY | 履歴画面 | 過去の記録一覧 |

---

## 1. ホーム画面 (HOME)

### レイアウト

```
┌─────────────────────────────┐
│                             │
│          🏗️                 │
│   Voice KY Assistant        │
│   話すだけでKYが完了        │
│                             │
│   ┌─────────────────────┐   │
│   │ 現場名を入力 (任意) │   │
│   └─────────────────────┘   │
│                             │
│      ┌───────────────┐      │
│      │  🎙️ KY開始   │      │
│      └───────────────┘      │
│                             │
│       📋 履歴を見る         │
│                             │
└─────────────────────────────┘
```

### 要素詳細

| 要素 | タイプ | 説明 |
| ---- | ------ | ---- |
| ロゴ | 絵文字 | 🏗️ (建設現場を象徴) |
| タイトル | h1 | "Voice KY Assistant" |
| サブタイトル | p | "話すだけでKYが完了" |
| 現場名入力 | input | 任意入力、セッションに保存 |
| KY開始ボタン | button | タップでCHAT画面へ遷移 |
| 履歴リンク | a | タップでHISTORY画面へ遷移 |

---

## 2. 対話画面 (CHAT)

### レイアウト

```
┌─────────────────────────────┐
│ ← 🏗️ 足場設置 KY           │ ← ヘッダー
├─────────────────────────────┤
│                             │
│ ┌─────────────────────────┐ │
│ │ 🤖 KY記録くん           │ │ ← AI発話
│ │ どんな危険がありそう    │ │
│ │ ですか？                │ │
│ └─────────────────────────┘ │
│                             │
│         ┌─────────────────┐ │
│         │ 👤 あなた       │ │ ← ユーザー発話
│         │ 落ちそう        │ │
│         └─────────────────┘ │
│                             │
├─────────────────────────────┤
│ ☀️ 晴れ 15℃               │ ← 天候情報
│ ┌───────────────────┐ ┌──┐ │
│ │ ここに入力...     │ │➤│ │ ← テキスト入力
│ └───────────────────┘ └──┘ │
│                             │
│          ┌───┐              │
│          │🎙️│  認識中...    │ ← マイクボタン
│          └───┘              │
└─────────────────────────────┘
```

### 要素詳細

| 要素 | タイプ | 説明 |
| ---- | ------ | ---- |
| ヘッダー | header | 戻るボタン + タイトル |
| メッセージエリア | div | スクロール可能、AIとユーザーの吹き出し |
| テキスト入力 | input | キーボード入力用フォールバック |
| 送信ボタン | button | テキスト送信 |
| マイクボタン | button | 音声認識ON/OFF切替、録音中は赤色 |
| 中間テキスト | div | 音声認識の途中結果を表示 |

---

## 3. 確認画面 (CONFIRM)

### レイアウト

```
┌─────────────────────────────┐
│ ← ✅ KY確認                 │
├─────────────────────────────┤
│ 📅 2026/01/21 07:00         │
│ ☀️ 晴れ 15℃                 │
├─────────────────────────────┤
│ ⚠️ 危険                     │
│ ・足場から落ちる            │
│ ・工具を落とす              │
├─────────────────────────────┤
│ ✅ 対策                     │
│ ・安全帯を使う              │
│ ・工具にストラップをつける  │
├─────────────────────────────┤
│ 🎯 合言葉                   │
│ 「指差し確認ヨシ！」        │
├─────────────────────────────┤
│ 💡 KYアドバイス             │
│ ✨ 具体的でとても良いです！ │
├─────────────────────────────┤
│  ┌──────┐    ┌──────────┐   │
│  │✏️修正│    │✅ 完了  │   │
│  └──────┘    └──────────┘   │
└─────────────────────────────┘
```

---

## 4. 完了画面 (DONE)

### レイアウト

```
┌─────────────────────────────┐
│                             │
│            ✅               │
│        KY完了！             │
│       ご安全に！            │
│                             │
│  「指差し確認ヨシ！」       │
│                             │
│   ┌─────────────────────┐   │
│   │  📄 PDFを表示       │   │
│   └─────────────────────┘   │
│                             │
│   ┌─────────────────────┐   │
│   │  🏠 ホームに戻る    │   │
│   └─────────────────────┘   │
│                             │
└─────────────────────────────┘
```

---

## 5. 履歴画面 (HISTORY)

### レイアウト

```
┌─────────────────────────────┐
│ ← 📋 履歴                   │
├─────────────────────────────┤
│ ┌─────────────────────────┐ │
│ │ 📋 2026/01/21 07:00     │ │
│ │    足場から落ちる...    │›│
│ └─────────────────────────┘ │
│ ┌─────────────────────────┐ │
│ │ 📋 2026/01/20 07:00     │ │
│ │    高所作業で...        │›│
│ └─────────────────────────┘ │
│                             │
│        📭                   │
│   まだ記録がありません      │ ← 空の場合
│                             │
└─────────────────────────────┘
```

---

## カラーパレット

| 用途 | 色コード | 説明 |
| ---- | -------- | ---- |
| Primary | `#3b82f6` | ボタン、リンク |
| Primary Dark | `#2563eb` | ホバー時 |
| Success | `#22c55e` | 完了、成功 |
| Warning | `#f59e0b` | 注意、警告 |
| Danger | `#ef4444` | エラー、危険 |
| Background | `#f3f4f6` | 画面背景 |
| Surface | `#ffffff` | カード背景 |
| Text | `#1f2937` | 本文テキスト |
| Text Muted | `#6b7280` | 補助テキスト |

---

## タイポグラフィ

| 用途 | サイズ | 太さ |
| ---- | ------ | ---- |
| H1 (タイトル) | 1.75rem | bold |
| H2 (セクション) | 1.25rem | semibold |
| Body | 1rem | normal |
| Small | 0.875rem | normal |
| Button | 1rem | semibold |

---

## アクセシビリティ考慮

- タップターゲットは最低44x44px
- コントラスト比は4.5:1以上を確保
- フォーカス状態を明確に表示
- 音声読み上げ対応（aria-label設定）
