# KY活動の質を高めるための改善提案書

**目的**: マンネリ化を防ぎ、作業員が「自分ごと」として危険を認識できる（質の高い）KY活動を、AIアシスタントで実現する。

---

## 🔍 調査結果: 質の高いKYとは？

建設業界の優良事例やKYT（危険予知トレーニング）のセオリーから、以下の要素が重要であることがわかりました。

1. **具体性 (Specificity)**:
    * ❌ 「転倒に気をつける」
    * ⭕ 「資材置き場の段差に、資材を持ったままつまづいて転倒する」
    * **改善点**: 状況（いつ、どこで、誰が、何をして、どうなる）を明確にする描写が必要。
2. **マンネリ打破 (Anti-Monotony)**:
    * 毎日同じ作業だと、脳が思考停止し、定型文になりがち。
    * **改善点**: 「今日はいつもと何が違う？」という視点（天候、新人作業員の有無、他業者の出入りなど）を入れる。
3. **合意形成 (Consensus)**:
    * 一方的な宣言ではなく、チーム全員が「それは危ないね」と納得すること（指差し呼称への納得感）。

---

## 🚀 AIができること (アプリ改善案)

現在の `Voice KY Assistant` をベースに、以下の機能・ロジックを追加することで質を劇的に高められます。

### 1. 「深掘り」機能 (The Deep Dive)

ユーザーの回答が抽象的な場合、AIが「それは具体的にどういうことですか？」と聞き返すロジックを強化します。

* **現状**: 「足場から落ちる」→ AI「わかりました。対策は？」
* **改善後**: 「足場から落ちる」→ AI **「足場のどの部分ですか？組み立て中ですか、それとも移動中ですか？」**
  * **実装案**: システムプロンプトに「5W1Hが揃うまで質問を繰り返す」指示を追加。

### 2. 「マンネリ・ブレーカー」 (Context Injection)

外部データ（天候、時間、曜日）を活用し、人間が気づきにくい視点をAIから提示します。

* **実装案**: 天候APIの結果をプロンプトにより強く反映させる。
  * **雨の日**: 「今日は湿度が高いので、手袋が滑りやすくなっていませんか？」
  * **夕方**: 「西日が眩しい場所はありませんか？視界不良による接触事故が心配です。」
  * **月曜日**: 「休み明けなので、手順の確認をいつもより丁寧に行いましょう。」

### 3. バーチャル4ラウンド法 (Virtual 4R)

現在の会話フローを、KY活動の標準的な手法である「4ラウンド法」に沿って厳密化します。

* **Round 1（現状把握）**: 危険を出し切る（AIが「他には？」としつこく聞く）。
* **Round 2（本質追究）**: **【新機能】** 出てきた危険の中から「今日、一番命に関わる危険（重要危険）」を1つ選ばせる。
  * AI: 「たくさん出ましたが、**この中で一番マズイのはどれですか？**」と問いかける。
* **Round 3（対策樹立）**: その重要危険に対する具体的対策を決める。
* **Round 4（目標設定）**: 指差し呼称項目（行動目標）の設定。

---

## 🛠️ 具体的なシステムプロンプト修正案 (src/workers/index.js)

現在のプロンプトを以下のようにブラッシュアップすることを推奨します。

```javascript
// 変更前（会話の雰囲気重視）
"専門用語は平易に", "否定形を使わない" ...

// 変更後（思考の質重視）
"ユーザーの回答が『転倒』『挟まれ』など単語のみの場合は、『具体的にどんな作業中ですか？』と聞き返してください。",
"抽象的な対策（『気をつける』『確認する』）には、『具体的にどういう行動をしますか？（例：指差して確認、ダブルチェック）』と具体化を促してください。",
"天候情報(${weather})を元に、それに関連する独自の危険予知ヒントを1つ投げかけてください。"
```

---

## 📅 アクションプラン

もしこの方向性で進める場合、以下の手順で実装可能です。

1. **プロンプト調整 (Workers)**: `buildChatSystemPrompt` 関数を修正し、具体化を促す指示を追加。（工数: 小）
2. **シナリオテスト**: 実際に抽象的な入力をし、AIが適切にツッコミを入れるか確認。（工数: 中）
3. **R2（絞り込み）UIの追加**: 危険リストの中からタップして「重要危険」を選べるようにフロントエンドを改修。（工数: 大 / Phase 2向け）

まずは **1. プロンプト調整** から始めるのが最もコスパが良い改善となります。
