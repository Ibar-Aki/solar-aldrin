# KY活動の質を高めるための改善提案書

**目的**: マンネリ化を防ぎ、作業員が「自分ごと」として危険を認識できる（質の高い）KY活動を、AIアシスタントで実現する。

---

## 🔍 調査結果: 質の高いKYとは？

建設業界の優良事例やKYT（危険予知トレーニング）のセオリーから、以下の要素が重要であることがわかりました。

1. **具体性 (Specificity)**:
    * ❌ 「転倒に気をつける」
    * ⭕ 「資材置き場の段差に、資材を持ったままつまづいて転倒する」
    * **改善点**: 状況（いつ、どこで、誰が、何をして、どうなる）を明確にする描写が必要。
2. **マンネリ打破 (Anti-Monotony)**:
    * 毎日同じ作業だと、脳が思考停止し、定型文になりがち。
    * **改善点**: 「今日はいつもと何が違う？」という視点（天候、新人作業員の有無、他業者の出入りなど）を入れる。
3. **合意形成 (Consensus)**:
    * 一方的な宣言ではなく、チーム全員が「それは危ないね」と納得すること（指差し呼称への納得感）。

---

## 🚀 AIができること (アプリ改善案)

現在の `Voice KY Assistant` をベースに、以下の機能・ロジックを追加することで質を劇的に高められます。

### 1. 「深掘り」機能 (The Deep Dive)

ユーザーの回答が抽象的な場合、AIが「それは具体的にどういうことですか？」と聞き返すロジックを強化します。

* **現状**: 「足場から落ちる」→ AI「わかりました。対策は？」
* **改善後**: 「足場から落ちる」→ AI **「足場のどの部分ですか？組み立て中ですか、それとも移動中ですか？」**
  * **実装案**: システムプロンプトに「5W1Hが揃うまで質問を繰り返す」指示を追加。

### 2. 「マンネリ・ブレーカー」 (Context Injection)

外部データ（天候、時間、曜日）を活用し、人間が気づきにくい視点をAIから提示します。

* **実装案**: 天候APIの結果をプロンプトにより強く反映させる。
  * **雨の日**: 「今日は湿度が高いので、手袋が滑りやすくなっていませんか？」
  * **夕方**: 「西日が眩しい場所はありませんか？視界不良による接触事故が心配です。」
  * **月曜日**: 「休み明けなので、手順の確認をいつもより丁寧に行いましょう。」

### 3. バーチャル4ラウンド法 (Virtual 4R)

現在の会話フローを、KY活動の標準的な手法である「4ラウンド法」に沿って厳密化します。

* **Round 1（現状把握）**: 危険を出し切る（AIが「他には？」としつこく聞く）。
* **Round 2（本質追究）**: **【新機能】** 出てきた危険の中から「今日、一番命に関わる危険（重要危険）」を1つ選ばせる。
  * AI: 「たくさん出ましたが、**この中で一番マズイのはどれですか？**」と問いかける。
* **Round 3（対策樹立）**: その重要危険に対する具体的対策を決める。
* **Round 4（目標設定）**: 指差し呼称項目（行動目標）の設定。

---

## 🛠️ 具体的なシステムプロンプト修正案 (src/workers/index.js)

現在のプロンプトを以下のようにブラッシュアップすることを推奨します。

```javascript
// 変更前（会話の雰囲気重視）
"専門用語は平易に", "否定形を使わない" ...

// 変更後（思考の質重視）
"ユーザーの回答が『転倒』『挟まれ』など単語のみの場合は、『具体的にどんな作業中ですか？』と聞き返してください。",
"抽象的な対策（『気をつける』『確認する』）には、『具体的にどういう行動をしますか？（例：指差して確認、ダブルチェック）』と具体化を促してください。",
"天候情報(${weather})を元に、それに関連する独自の危険予知ヒントを1つ投げかけてください。"
```

---

## 🧠 認知科学・行動心理学の観点（意見/批判）

- **注意資源の過負荷**: 深掘り質問が多いと疲労や反発が増え、形式化（形だけの回答）になりやすい。
- **心理的リアクタンス**: 「具体化してください」型の指示はベテランに反発を生みやすく、協力度が下がる可能性がある。
- **ヒューリスティック固定化**: 同じ質問パターンが続くと自動応答化し、思考の質が下がる。
- **誘導バイアス**: 質問の形が「答えやすい危険」へ偏らせ、実際のリスク探索が浅くなる。
- **自己決定感の低下**: AI主導が強すぎると「自分で考えた感」が弱まり、定着率が落ちる。

---

## ✅ 改善提案（心理設計）

- **段階的負荷**: 具体性スコアや利用回数に応じ、質問数・深度を可変化する。
- **選択式深掘り**: 「どれを深掘りしますか？」の選択式を入れ、主体感を担保する。
- **変動強化**: 深掘り質問のテンプレをローテーションし、毎回同じ型に見えないようにする。
- **逆張り質問の導入**: 週1回だけ「見落としやすい危険」をあえて問う（注意の分散）。
- **メタ認知の促進**: 「今日、昨日より具体化できた点」を1行で振り返らせる。
- **社会的証明の活用**: 「最近この現場で多い危険」などの傾向を提示し、行動規範化を促す（押しつけは避ける）。

### 優先度（実装順の目安）

- **高**: 段階的負荷 / 選択式深掘り  
  *理由*: 反発と負荷を抑えつつ、自己決定感を確保できるため。
- **中**: 変動強化 / 逆張り質問  
  *理由*: マンネリ対策に有効だが、効果検証が必要。
- **低**: メタ認知の促進 / 社会的証明  
  *理由*: 効果は高い可能性があるが運用設計の調整が必要。

### 質問テンプレのローテーション例（週次）

- **A: 具体化重視**: 5W1H深掘り + 具体的行動の提示要求  
- **B: 見落とし防止**: 逆張り質問 + 例示（「他業者の動線」「天候変化」）  
- **C: 合意形成**: 重要危険の選定理由を1行で言語化  

**ローテーション案**: 月=A / 火=B / 水=C / 木=A / 金=B / 土日=A  
※ 週1回だけB（逆張り）を必ず含める。

---

## 📅 アクションプラン

もしこの方向性で進める場合、以下の手順で実装可能です。

1. **プロンプト調整 (Workers)**: `buildChatSystemPrompt` 関数を修正し、具体化を促す指示を追加。（工数: 小）
2. **シナリオテスト**: 実際に抽象的な入力をし、AIが適切にツッコミを入れるか確認。（工数: 中）
3. **R2（絞り込み）UIの追加**: 危険リストの中からタップして「重要危険」を選べるようにフロントエンドを改修。（工数: 大 / Phase 2向け）
4. **段階的負荷の導入**: 具体性スコアや利用回数に応じて質問数を増減。（工数: 中）
5. **質問テンプレのローテ化**: 深掘り/逆張りの質問パターンを日替わりで切り替え。（工数: 小）
6. **短い振り返りの追加**: 「今日の気づき」を1行入力する欄を追加。（工数: 小）

まずは **1. プロンプト調整** から始めるのが最もコスパが良い改善となります。
